<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr" xml:lang="fr"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.235">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Guide pratique des techniques du son - 37&nbsp; L’ambisonique</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../spatialisation/mix-obj.html" rel="next">
<link href="../spatialisation/spat-perceptif.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Pas de résultats",
    "search-matching-documents-text": "documents trouvés",
    "search-copy-link-title": "Copier le lien vers la recherche",
    "search-hide-matches-text": "Cacher les correspondances additionnelles",
    "search-more-match-text": "correspondance de plus dans ce document",
    "search-more-matches-text": "correspondances de plus dans ce document",
    "search-clear-button-title": "Effacer",
    "search-detached-cancel-button-title": "Annuler",
    "search-submit-button-title": "Envoyer"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../spatialisation/spat-introduction.html">Introduction à la spatialisation sonore</a></li><li class="breadcrumb-item"><a href="../spatialisation/ambisonique.html"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">L'ambisonique</span></a></li></ol></nav>
      <a class="flex-grow-1" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Basculer la barre latérale" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Recherche" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Guide pratique des techniques du son</a> 
        <div class="sidebar-tools-main">
    <a href="../Guide-pratique-des-techniques-du-son.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Recherche"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Avant-propos</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Généralités</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../generalites/oreille.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Oreille et audition</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../generalites/qualifier_le_son.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Quantifier et qualifier le son</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../generalites/l_acoustique_des_salles.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Acoustique des salles</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../generalites/notions_electronique.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Notions élémentaires d’électronique</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../generalites/production_musicale.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Description d’une production musicale type</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Outils et équipements</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils_equipements/le_chemin_du_signal.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Le chemin du signal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils_equipements/les_microphones.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Les microphones</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils_equipements/transport_signaux_analogiques.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Transport de signaux analogiques</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils_equipements/les_preamplificateurs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Les préamplificateurs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils_equipements/les_convertisseurs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">La conversion analogique numérique</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils_equipements/transport_signaux_numeriques.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Transports de signaux numériques</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils_equipements/introduction_informatique_musicale.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Introduction à l’informatique musicale</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils_equipements/les_enceintes.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Enceintes et amplificateurs</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Méthodologie de prise de son</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../methode-pds/ecoute-critique-pt1.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Ecoute critique : première partie</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../methode-pds/mono_et_multimicrophonie.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Mono et multi-microphonie</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../methode-pds/le_couple_de_pds.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">La prise de son au couple</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../methode-pds/déphasage_et_remise_en_phase.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Déphasage et remise en phase</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../methode-pds/en_pratiques.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">En pratiques</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Outils de mixage</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils-mixage/anatomie-console.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Anatomie d’une console de mixage</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils-mixage/filtres-phase.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Manipulation de la phase</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils-mixage/filtres-egaliseur.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Egalisation et égaliseurs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils-mixage/dyn-compresseurs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Les compresseurs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils-mixage/dyn-limiteur.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Les limiteurs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils-mixage/dyn-autres.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Les autres outils de gestion de la dynamique</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils-mixage/reverberation.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Mise en espace et réverbération</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils-mixage/saturation-distortion.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Saturation et distortion du signal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils-mixage/effets-modulation.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Effets &amp; modulations</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">Méthodologie de mixage</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../methode-mixage/ecoute-critique-pt2.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Ecoute critique : deuxième partie</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../methode-mixage/approche-generale.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Approche générale</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../methode-mixage/cas-ecole.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Etude des cas d’école</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../methode-mixage/pieges.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Pièges et erreurs à éviter</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">Introduction à la spatialisation sonore</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../spatialisation/spat-introduction.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../spatialisation/spat-historique.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Historique de la spatialisation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../spatialisation/espaces-hautparlants.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Les espaces haut-parlants</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../spatialisation/binaural.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Le binaural</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../spatialisation/spat-perceptif.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Orienté canal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../spatialisation/ambisonique.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">L’ambisonique</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../spatialisation/mix-obj.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Mixage orienté objet</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../spatialisation/wfs.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">La synthèse de fronts d’ondes (WFS)</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">Les outils de spatialisation sonore</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils-spat/station-travail.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">40</span>&nbsp; <span class="chapter-title">Choisir une station de travail</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils-spat/panner-binaural.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">41</span>&nbsp; <span class="chapter-title">Panner binaural</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils-spat/panner-cb.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">42</span>&nbsp; <span class="chapter-title">Panner orienté canaux</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils-spat/panner-ambisonique.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">43</span>&nbsp; <span class="chapter-title">Panner ambisonique</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils-spat/gestion-effets.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">44</span>&nbsp; <span class="chapter-title">Gestion des effets</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../outils-spat/mix-obj.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">45</span>&nbsp; <span class="chapter-title">Le mixage orienté objet</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table des matières</h2>
   
  <ul>
  <li><a href="#lambisonie-du-premier-ordre-foa" id="toc-lambisonie-du-premier-ordre-foa" class="nav-link active" data-scroll-target="#lambisonie-du-premier-ordre-foa"><span class="header-section-number">37.1</span> L’ambisonie du premier ordre (FOA)</a>
  <ul class="collapse">
  <li><a href="#captation-du-champ-sonore" id="toc-captation-du-champ-sonore" class="nav-link" data-scroll-target="#captation-du-champ-sonore"><span class="header-section-number">37.1.1</span> Captation du champ sonore</a></li>
  <li><a href="#synthèse-du-champ-sonore" id="toc-synthèse-du-champ-sonore" class="nav-link" data-scroll-target="#synthèse-du-champ-sonore"><span class="header-section-number">37.1.2</span> Synthèse du champ sonore</a></li>
  <li><a href="#restitution-du-champ-sonore" id="toc-restitution-du-champ-sonore" class="nav-link" data-scroll-target="#restitution-du-champ-sonore"><span class="header-section-number">37.1.3</span> Restitution du champ sonore</a></li>
  <li><a href="#décodage-pour-arrangement-de-haut-parleurs-irréguliers" id="toc-décodage-pour-arrangement-de-haut-parleurs-irréguliers" class="nav-link" data-scroll-target="#décodage-pour-arrangement-de-haut-parleurs-irréguliers"><span class="header-section-number">37.1.4</span> Décodage pour arrangement de haut-parleurs irréguliers</a></li>
  </ul></li>
  <li><a href="#lambisonie-dordre-plus-élevé-hoa" id="toc-lambisonie-dordre-plus-élevé-hoa" class="nav-link" data-scroll-target="#lambisonie-dordre-plus-élevé-hoa"><span class="header-section-number">37.2</span> L’ambisonie d’ordre plus élevé (HOA)</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">L’ambisonique</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../_resources/bitmap/ambisonic/ambisonic_dome.jpeg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Dôme ambisonique du Théâtre de Gennevilliers</figcaption><p></p>
</figure>
</div>
<p>L’ambisonique (ou ambisonie) s’attache à décrire le champ acoustique en trois dimensions d’un espace donné en un point. C’est à la fois une technique de prise de son, grâce à l’utilisation de microphones particuliers et une solution de panning en postproduction. De par son indépendance par rapport au dispositif du système de diffusion, on qualifie parfois un mixage ambisonique de «&nbsp;<em>mixage orienté scène&nbsp;»</em>. En effet, un signal ambisonique décrit, à l’aide de canaux audio, une scène sonore, et non pas un certain arrangement de haut-parleur (par opposition à l’orienté canal).</p>
<p>L’ambisonie se distingue également des approches plus conventionnelles (approche perceptive du panning usuel) par son approche <strong>physique</strong>. Nous verrons que dans son fonctionnement, l’ambisonie réalise l’<strong>échantillonnage du champ de pression acoustique</strong>. Cet échantillonnage peut varier en précision en fonction de l’<strong>ordre</strong> auquel nous souhaitons travailler.</p>
<p>Nous commencerons par étudier l’ambisonie dit du “premier ordre”, tel que proposé par Michael Gerzon et son équipe dans les années soixante-dix. Seulement ensuite, nous envisagerons l’ambisonie d’ordre plus élevé, pour pallier aux défauts de l’ambisonie du premier ordre.</p>
<section id="lambisonie-du-premier-ordre-foa" class="level2" data-number="37.1">
<h2 data-number="37.1" class="anchored" data-anchor-id="lambisonie-du-premier-ordre-foa"><span class="header-section-number">37.1</span> L’ambisonie du premier ordre (FOA)</h2>
<section id="captation-du-champ-sonore" class="level3" data-number="37.1.1">
<h3 data-number="37.1.1" class="anchored" data-anchor-id="captation-du-champ-sonore"><span class="header-section-number">37.1.1</span> Captation du champ sonore</h3>
<p>L’ambisonie du premier ordre (ou FOA pour «&nbsp;First Order Ambisonic&nbsp;») voit le jour sous la forme d’une technique de prise de son. Celle-ci permet l’enregistrement d’une scène sonore sur <strong>quatre canaux</strong>, que l’on peut ensuite décoder sur n’importe quel système de haut-parleurs.</p>
<p>Pour capturer le champ acoustique en un point, il faut donc s’intéresser au champ acoustique lui-même. Nous l’avons vu à la <a href="../generalites/qualifier_le_son.html#sec-le-son-physique"><span>Section&nbsp;2.1</span></a>, sous sa forme acoustique, une onde sonore se caractérise par la variation locale dans le temps de la pression. Pour mesurer la pression en un point, nous pouvons utiliser un microphone omnidirectionnel (également appelé microphone à pression). Ce microphone omnidirectionnel va donc rendre compte à chaque instant du temps de la valeur de la pression. À ce stade, il n’est pas question de parler de spatialisation, la captation d’une telle capsule étant monophonique.</p>
<p>Il conviendrait donc de mesurer la “direction” du déplacement local des particules d’air. Quelque part, on se demande dans <strong>quel sens et quelle direction varie la pression</strong>. Pour cela, on cherche à mesurer la vitesse de ce déplacement, et donc la variation de la pression en un point. Pour se faire, on utilise un microphone bidirectionnel (aussi appelé à gradient de pression). Ce microphone va donc mesurer, pour chaque instant du temps, la différence entre la pression entre un point de l’espace et un autre très rapproché. On caractérise donc une <strong>variation dans l’espace</strong>.</p>
<!-- :::{.callout-tip}

Quelques mots sur le formalisme mathématique. Soit $p(t,\vec{r})$, le champ de pression, $v(t,\vec{r})$ sa vitesse et $s(t,\vec{r})$, une onde sonore. Ces trois fonctions dépendent du **temps** et de l'**espace** (représenté par le vecteur unitaire $\vec{r}$).

Lorsqu'un évènement sonore est produit, on approxime

::: -->
<div class="cell" data-execution_count="1">
<div class="cell-output cell-output-display">
<div id="fig-ms" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="ambisonique_files/figure-html/fig-ms-output-1.png" width="662" height="361" class="figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;37.1: Pression et variation de pression sur l’axe Y. Les portions rouges ont une phase positive, les portions bleues ont une phase négative.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Une capsule bidirectionnelle nous permet de mesurer sur quel axe se déplacent les molécules d’air (si les molécules oscillent dans l’axe du microphone, on obtient un niveau mesurable, si les molécules oscillent sur l’axe normal (à 90°) de l’axe du microphone, on obtient un niveau négligeable). Cependant, cela ne nous indique pas si la source sonore responsable de la perturbation se trouve plutôt devant ou derrière le microphone. Néanmoins, si nous associons au même point de l’espace une capsule omnidirectionnelle et une capsule bidirectionnelle, nous allons pouvoir lever cette indétermination.</p>
<div class="cell" data-execution_count="2">
<div class="cell-output cell-output-display">
<div id="fig-m-et-s" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="ambisonique_files/figure-html/fig-m-et-s-output-1.png" width="481" height="509" class="figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;37.2: Représentation des composantes W et Y sur le même graphique. Les portions rouges ont une phase positive, les portions bleues ont une phase négative.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>On constate alors que, selon l’angle d’incidence de la source par rapport aux capsules, celle-ci subit une atténuation (et une modification de la phase si la valeur absolue de l’angle d’incidence est ici supérieure à 90°) dans le canal de captation Y, permettant donc de coder sa position autour du microphone. Le canal W capte la source de la même manière, peu importe son angle d’incidence. Nous venons ici de fabriquer un couple MS (voir <a href="../methode-pds/le_couple_de_pds.html#sec-pds-stereo-ms"><span>Section&nbsp;16.3.2</span></a>).</p>
<p>Notre dispositif permet ici de capter des ondes sonores selon un seul axe (ici, Y). Si l’on souhaite étendre ce dispositif pour capter l’espace en trois dimensions, nous serions naturellement tentés d’ajouter deux autres capsules bidirectionnelles supplémentaires.</p>
<div class="cell" data-execution_count="3">
<div class="cell-output cell-output-display">
<div id="fig-foa" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="ambisonique_files/figure-html/fig-foa-output-1.png" width="540" height="152" class="figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;37.3: Composantes ambisonique du premier ordre. Les surfaces rouges ont une phase positive, les surfaces bleues ont une phase négative.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>En pratique, les microphones ambisoniques n’utilisent pas cet arrangement de capsules. En effet, l’encombrement des capsules bidirectionnelles compromet sévèrement la coïncidence du système. La qualité d’un tel microphone dépend largement de sa capacité à positionner les capsules avec la plus grande coïncidence possible, au risque sinon de détériorer la précision de localisation dans le haut du spectre. On utilise alors plutôt quatre capsules cardioïdes, placé sur les surfaces d’un tétraèdre. Cet arrangement est mathématiquement strictement équivalent à l’utilisation d’une capsule omnidirectionnelle et de trois capsules bidirectionnelles. Seulement, l’encombrement moindre des capsules cardioïdes permet une meilleure coïncidence de celles-ci.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://d2j6dbq0eux0bg.cloudfront.net/images/29143418/1438893864.jpg" class="img-fluid figure-img" style="width:50.0%"></p>
<p></p><figcaption class="figure-caption">Microphone Sennheiser Ambeo</figcaption><p></p>
</figure>
</div>
<p>On appelle le flux audio en sortie d’un microphone ambisonique du premier ordre <strong>Format-A</strong>, dans lequel chaque canal correspond à une capsule précise. Par opposition, on appelle généralement <strong>Format-B</strong> un flux ambisonique du premier ordre encodé, où chaque canal correspond à une des composantes W, X, Y, Z.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>L’appellation <strong>Format-A</strong> se retrouve également pour les ordres supérieurs, même si ces microphones sont rares ! Le terme <strong>Format-B</strong> est, quant à lui, discutable pour les ordres supérieurs.</p>
</div>
</div>
</section>
<section id="synthèse-du-champ-sonore" class="level3" data-number="37.1.2">
<h3 data-number="37.1.2" class="anchored" data-anchor-id="synthèse-du-champ-sonore"><span class="header-section-number">37.1.2</span> Synthèse du champ sonore</h3>
<p>Nous avons vu qu’un microphone ambisonique nous permet de capturer l’espace acoustique entendu d’un point. Nous pouvons également “synthétiser”, c’est-à-dire encoder une source sonore monophonique dans un espace acoustique virtuel ambisonique. Pour cela, on utilise simplement des panners ambisoniques.</p>
<p>Pour une incidence donnée de cette source sonore, le panner va affecter une partie de son énergie aux différentes composantes d’un signal ambisonique (W, X, Y, Z) et une phase particulière (positive ou négative). Il est également possible d’encoder des signaux multicanaux (stéréo, quadriphonie, 5.0). Il s’agit d’une technique très efficace pour adapter un mixage réalisé sur un arrangement de haut-parleurs particuliers vers un autre.</p>
<p>Nous ferons état de ces différentes techniques et des différents panners ambisoniques dans le <a href="../outils-spat/panner-ambisonique.html"><span>Chapitre&nbsp;43</span></a> .</p>
</section>
<section id="restitution-du-champ-sonore" class="level3" data-number="37.1.3">
<h3 data-number="37.1.3" class="anchored" data-anchor-id="restitution-du-champ-sonore"><span class="header-section-number">37.1.3</span> Restitution du champ sonore</h3>
<p>Une fois le signal enregistré, ou encodé en ambisonique, il convient de le décoder sur un arrangement de haut-parleurs particulier. Cette phase de décodage est peut-être la plus complexe à appréhender (et explique très certainement pourquoi l’ambisonique reste à ce jour si peu utilisée).</p>
<p>Illustrons le procédé de décodage en considérant un flux audio ambisonique 2D (W, X, Y) et un système de diffusion quadriphonique.</p>
<div class="cell" data-execution_count="4">
<div class="cell-output cell-output-display">
<div id="fig-amb2d-quad" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="ambisonique_files/figure-html/fig-amb2d-quad-output-1.png" width="662" height="361" class="figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;37.4: Décodage par projection basique.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>La figure ci-dessus représente une approche de décodage par <strong>projection</strong> dite <strong>basique</strong>. Pour connaître la quantité de chaque canal à émettre sur chaque enceinte, il suffit de regarder l’axe enceinte-centre, et de lire pour quelle valeur cet axe coupe les harmoniques sphériques. Dans ce cas précis, on trouve :</p>
<p><span class="math display">\[
\begin{array}{ll}
  L_{front} = \frac{1}{3}W + X - Y \\
  R_{front} = \frac{1}{3}W + X + Y \\
  L_{back} = \frac{1}{3}W - X - Y \\
  R_{back} = \frac{1}{3}W - X + Y \\
\end{array}
\]</span></p>
<p>On peut également étudier la directivité formée pour une source et projeter sur les haut-parleurs pour observer leurs différentes contributions. On remarque dans ce cas (décodage dit basique) la présence d’un lobe arrière. Cela signifie que les enceintes peuvent contribuer à la diffusion d’une source en <strong>opposition de phase</strong> lorsque celles-ci ont certaines positions.</p>
<p>Il existe d’autres modes de décodage permettant de changer la directivité associée à une source. Ces modes supplémentaires sont “maxRe” et “InPhase”.</p>
<div class="cell" data-execution_count="5">
<div class="cell-output cell-output-display">
<div id="fig-amb-dec-mode" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="ambisonique_files/figure-html/fig-amb-dec-mode-output-1.png" width="662" height="446" class="figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;37.5: Décodage par projection basique, maxRe et inPhase.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Le décodage basique permet un rendu psychoacoustique correct du registre basse fréquence (jusqu’à 500 Hz environ) et offre une précision de localisation maximale au point d’écoute idéal.</p>
<p>Un décodage dit “maxRe” a pour conséquence d’améliorer la localisation dans les hautes fréquences (&gt;700 Hz environ). On constate aussi la réduction des lobes arrière, et donc une contribution moindre des composantes en opposition de phase dans les enceintes.</p>
<p>Lorsqu’un décodeur utilise une optimisation InPhase, la totalité des lobes arrière est supprimée. Cela signifie qu’aucune enceinte ne diffuse de composantes en opposition de phase. Cela a pour conséquence d’améliorer l’homogénéité de la diffusion, d’augmenter la largeur du point d’écoute idéal, au détriment de la précision de localisation.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Il n’est pas rare de trouver le mode “maxRe” par défaut dans les décodeurs.</p>
</div>
</div>
<p>Afin de tenir compte des différences de perception entre les basses fréquences et les hautes fréquences, il est souvent préconisé d’adapter le mode de décodage en fonction de la plage de fréquence. Par exemple, Michael Gerzon propose un décodage “perceptif”, en mode basique dans le bas du spectre et maxRe dans les fréquences aiguës. Jérome Daniel fait également le lien entre zone de couverture, mode de décodage et plage de fréquences.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../_resources/bitmap/ambisonic/coverage.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Mode de décodage et zone de couverture. J. Daniel (2001).</figcaption><p></p>
</figure>
</div>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Une restitution ambisonique sur un arrangement de haut-parleurs à deux ou trois dimensions n’est pas équivalente. En effet, un décodage 2D offre une meilleure précision de localisation.</p>
</div>
</div>
</section>
<section id="décodage-pour-arrangement-de-haut-parleurs-irréguliers" class="level3" data-number="37.1.4">
<h3 data-number="37.1.4" class="anchored" data-anchor-id="décodage-pour-arrangement-de-haut-parleurs-irréguliers"><span class="header-section-number">37.1.4</span> Décodage pour arrangement de haut-parleurs irréguliers</h3>
<p>Le décodage par projection mentionné précédemment fonctionne bien pour des arrangements de haut-parleurs réguliers dans l’espace. Cependant, la majorité des systèmes utilisés dans l’industrie de l’audio ne sont pas réguliers (stéréophonie, 5.1, 7.1.4, etc). Dès lors un décodage par projection ne sera pas homogène en niveau.</p>
<div class="cell" data-execution_count="6">
<div class="cell-output cell-output-display">
<div id="fig-amb-loudness" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="ambisonique_files/figure-html/fig-amb-loudness-output-1.png" width="582" height="491" class="figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;37.6: Décodage par projection basique.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p>Il existe alors plusieurs stratégies pour pallier ce problème. La plus utilisée est le décodage <strong>AllRAD</strong> (All-Round Ambisonic Decoder). Celle-ci consiste à décoder le signal ambisonique en deux étapes. Tout d’abord on le décode sur un arrangement de 240 haut-parleurs parfaitement idéal, puis on utilise une loi de panoramique VBAP pour réduire ces 240 haut-parleurs à l’arrangement réel.</p>
<p>Une autre stratégie assez connue est l’<strong>EPAD</strong> (Energy Preserving Ambisonic Decoding), qui permet de produire un champ d’énergie invariant en fonction de l’angle d’incidence de la source.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Peu importe que l’on utilise une stratégie de décodage AllRAD ou EPAD, il convient de <strong>toujours</strong> avoir plus de canaux d’enceintes que de canaux ambisoniques.</p>
</div>
</div>
</section>
</section>
<section id="lambisonie-dordre-plus-élevé-hoa" class="level2" data-number="37.2">
<h2 data-number="37.2" class="anchored" data-anchor-id="lambisonie-dordre-plus-élevé-hoa"><span class="header-section-number">37.2</span> L’ambisonie d’ordre plus élevé (HOA)</h2>
<p>L’HOA (pour <em>Higher Order Ambisonic</em>) est une extension du système proposé par Michael Gerzon. En effet, l’ambisonie du premier ordre introduit un certain nombre de problèmes lorsqu’on le décode sur un arrangement comprenant un trop grand nombre de haut-parleurs. Il en résulte alors un flou de localisation important, voir l’apparition de problèmes de timbre.</p>
<p>Le FOA reposant sur l’exploitation des harmoniques sphériques aux ordres 0 et 1, il était alors tout indiqué d’utiliser les harmoniques d’ordre supérieur.</p>
<div class="cell" data-execution_count="7">
<div class="cell-output cell-output-display">
<div id="fig-hoa" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="ambisonique_files/figure-html/fig-hoa-output-1.png" width="422" height="298" class="figure-img"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;37.7: Composantes ambisonique jusqu’à l’ordre quatre. Les surfaces rouges ont une phase positive, les surfaces bleues ont une phase négative.</figcaption><p></p>
</figure>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copié");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copié");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../spatialisation/spat-perceptif.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Orienté canal</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../spatialisation/mix-obj.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Mixage orienté objet</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>